---
version: 1
interactions:
- request:
    body: '{"name":"go-test-loadbalancer-1646831747","plan":"development","zone":"pl-waw1","network_uuid":"03716b3c-663f-46ab-a7a4-84221525030b","configured_status":"started","frontends":[],"backends":[]}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/4.0.0
    url: https://api.upcloud.com/1.3/loadbalancer
    method: POST
  response:
    body: '{"backends":[],"configured_status":"started","created_at":"2022-03-09T13:15:47.74849Z","dns_name":"lb-0a53b31d268f42d983cc5bef17063f98.upcloudlb.com","frontends":[],"name":"go-test-loadbalancer-1646831747","network_uuid":"03716b3c-663f-46ab-a7a4-84221525030b","operational_state":"pending","plan":"development","resolvers":[],"updated_at":"2022-03-09T13:15:47.74849Z","uuid":"0a53b31d-268f-42d9-83cc-5bef17063f98","zone":"pl-waw1"}'
    headers:
      Content-Length:
      - "431"
      Content-Type:
      - application/json
      Date:
      - Wed, 09 Mar 2022 13:15:47 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"name":"testname","nameservers":["10.0.0.1","10.0.0.2"],"retries":10,"timeout":20,"timeout_retry":10,"cache_valid":123,"cache_invalid":321}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/4.0.0
    url: https://api.upcloud.com/1.3/loadbalancer/0a53b31d-268f-42d9-83cc-5bef17063f98/resolvers
    method: POST
  response:
    body: '{"cache_invalid":321,"cache_valid":123,"created_at":"0001-01-01T00:00:00Z","name":"testname","nameservers":["10.0.0.1","10.0.0.2"],"retries":10,"timeout":20,"timeout_retry":10,"updated_at":"0001-01-01T00:00:00Z"}'
    headers:
      Content-Length:
      - "212"
      Content-Type:
      - application/json
      Date:
      - Wed, 09 Mar 2022 13:15:47 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"name":"updated_testname","nameservers":["10.0.0.1","10.0.0.2","10.0.0.3"],"retries":5,"timeout":30}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/4.0.0
    url: https://api.upcloud.com/1.3/loadbalancer/0a53b31d-268f-42d9-83cc-5bef17063f98/resolvers/testname
    method: PATCH
  response:
    body: '{"cache_invalid":321,"cache_valid":123,"created_at":"2022-03-09T13:15:47.96839Z","name":"updated_testname","nameservers":["10.0.0.1","10.0.0.2","10.0.0.3"],"retries":5,"timeout":30,"timeout_retry":10,"updated_at":"2022-03-09T13:15:47.96839Z"}'
    headers:
      Content-Length:
      - "242"
      Content-Type:
      - application/json
      Date:
      - Wed, 09 Mar 2022 13:15:48 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"timeout_retry":15,"cache_valid":124,"cache_invalid":324}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/4.0.0
    url: https://api.upcloud.com/1.3/loadbalancer/0a53b31d-268f-42d9-83cc-5bef17063f98/resolvers/updated_testname
    method: PATCH
  response:
    body: '{"cache_invalid":324,"cache_valid":124,"created_at":"2022-03-09T13:15:47.96839Z","name":"updated_testname","nameservers":["10.0.0.1","10.0.0.2","10.0.0.3"],"retries":5,"timeout":30,"timeout_retry":15,"updated_at":"2022-03-09T13:15:48.149691Z"}'
    headers:
      Content-Length:
      - "243"
      Content-Type:
      - application/json
      Date:
      - Wed, 09 Mar 2022 13:15:48 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/4.0.0
    url: https://api.upcloud.com/1.3/loadbalancer/0a53b31d-268f-42d9-83cc-5bef17063f98/resolvers/updated_testname
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Wed, 09 Mar 2022 13:15:48 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
