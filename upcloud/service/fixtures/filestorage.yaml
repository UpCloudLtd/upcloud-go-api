---
version: 1
interactions:
- request:
    body: '{"name":"go-sdk-test-filesto","zone":"fi-hel2","configured_status":"started","size_gib":250,"labels":[{"key":"managedBy","value":"upcloud-go-sdk-unit-test"}]}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage
    method: POST
  response:
    body: '{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"upcloud-go-sdk-unit-test"}],"name":"go-sdk-test-filesto","networks":[],"operational_state":"pending","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:17:49.051305Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}'
    headers:
      Content-Length:
      - "366"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:17:49 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage?limit=100&offset=0
    method: GET
  response:
    body: '[{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"upcloud-go-sdk-unit-test"}],"name":"go-sdk-test-filesto","networks":[],"operational_state":"running","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:18:19.176024Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}]'
    headers:
      Content-Length:
      - "368"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:19 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: GET
  response:
    body: '{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"upcloud-go-sdk-unit-test"}],"name":"go-sdk-test-filesto","networks":[],"operational_state":"running","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:18:19.176024Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}'
    headers:
      Content-Length:
      - "366"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:19 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"go-sdk-test-filesto-replaced","configured_status":"started","size_gib":250,"labels":[{"key":"managedBy","value":"replaced"}]}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: PUT
  response:
    body: '{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"replaced"}],"name":"go-sdk-test-filesto-replaced","networks":[],"operational_state":"pending","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:18:20.004295Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}'
    headers:
      Content-Length:
      - "359"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:20 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"go-sdk-test-filesto-modified","labels":[{"key":"managedBy","value":"modified"}]}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: PATCH
  response:
    body: '{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"modified"}],"name":"go-sdk-test-filesto-modified","networks":[],"operational_state":"pending","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:18:30.457697Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}'
    headers:
      Content-Length:
      - "359"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:30 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"network":{"name":"go-sdk-test-filesto","zone":"fi-hel2","ip_networks":{"ip_network":[{"address":"172.28.1.0/24","dhcp":"no","dhcp_default_route":"no","family":"IPv4","gateway":"172.28.1.1","dhcp_routes_configuration":{"effective_routes_auto_population":{"enabled":"no"}}}]}}}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/network/
    method: POST
  response:
    body: '{"network":{"effective_routes":[],"ip_networks":{"ip_network":[{"address":"172.28.1.0/24","dhcp":"no","dhcp_default_route":"no","dhcp_effective_routes":[],"dhcp_routes_configuration":{"effective_routes_auto_population":{"enabled":"no"}},"family":"IPv4","gateway":"172.28.1.1"}]},"labels":[],"name":"go-sdk-test-filesto","type":"private","uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18","zone":"fi-hel2"}}'
    headers:
      Content-Length:
      - "737"
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 30 Sep 2025 11:18:40 GMT
      Server:
      - Apache
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18","name":"go-sdk-test-filesto","family":"IPv4"}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/networks
    method: POST
  response:
    body: '{"family":"IPv4","ip_address":"172.28.1.2","name":"go-sdk-test-filesto","uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18"}'
    headers:
      Content-Length:
      - "118"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:41 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/networks
    method: GET
  response:
    body: '[{"family":"IPv4","ip_address":"172.28.1.2","name":"go-sdk-test-filesto","uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18"}]'
    headers:
      Content-Length:
      - "120"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:42 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/networks/go-sdk-test-filesto
    method: GET
  response:
    body: '{"family":"IPv4","ip_address":"172.28.1.2","name":"go-sdk-test-filesto","uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18"}'
    headers:
      Content-Length:
      - "118"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:42 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/networks/go-sdk-test-filesto
    method: PATCH
  response:
    body: '{"family":"IPv4","ip_address":"172.28.1.2","name":"go-sdk-test-filesto","uuid":"03ab5278-c5aa-4ac7-b2ab-660fa22d8c18"}'
    headers:
      Content-Length:
      - "118"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:42 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/networks/go-sdk-test-filesto
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 30 Sep 2025 11:18:42 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: '{"name":"test-share","path":"/data/test","acl":[{"target":"user","permission":"rw"}]}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/shares
    method: POST
  response:
    body: '{"acl":[{"permission":"rw","target":"user"}],"name":"test-share","path":"/data/test"}'
    headers:
      Content-Length:
      - "85"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:43 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/shares
    method: GET
  response:
    body: '[{"acl":[{"permission":"rw","target":"user"}],"name":"test-share","path":"/data/test"}]'
    headers:
      Content-Length:
      - "87"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:43 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/shares/test-share
    method: GET
  response:
    body: '{"acl":[{"permission":"rw","target":"user"}],"name":"test-share","path":"/data/test"}'
    headers:
      Content-Length:
      - "85"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:43 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"path":"/data/modified","acl":[{"target":"user","permission":"ro"}]}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/shares/test-share
    method: PATCH
  response:
    body: '{"acl":[{"permission":"ro","target":"user"}],"name":"test-share","path":"/data/modified"}'
    headers:
      Content-Length:
      - "89"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:43 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/shares/test-share
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 30 Sep 2025 11:18:44 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: '{"key":"test-label","value":"test"}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/labels
    method: POST
  response:
    body: '{"key":"test-label","value":"test"}'
    headers:
      Content-Length:
      - "35"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:44 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/labels
    method: GET
  response:
    body: '[{"key":"managedBy","value":"modified"},{"key":"test-label","value":"test"}]'
    headers:
      Content-Length:
      - "76"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:44 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/labels/test-label
    method: GET
  response:
    body: '{"key":"test-label","value":"test"}'
    headers:
      Content-Length:
      - "35"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:44 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"key":"test-label","value":"modified"}'
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/labels/test-label
    method: PATCH
  response:
    body: '{"key":"test-label","value":"modified"}'
    headers:
      Content-Length:
      - "39"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:44 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323/labels/test-label
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 30 Sep 2025 11:18:45 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 30 Sep 2025 11:18:45 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: GET
  response:
    body: '{"configured_status":"started","created_at":"2025-09-30T11:17:49.051305Z","labels":[{"key":"managedBy","value":"modified"}],"name":"go-sdk-test-filesto-modified","networks":[],"operational_state":"delete-instance","shares":[],"size_gib":250,"state_messages":[],"updated_at":"2025-09-30T11:18:45.356229Z","uuid":"17ec0131-98c6-40d9-97cf-a1fe6f48e323","zone":"fi-hel2"}'
    headers:
      Content-Length:
      - "367"
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Sep 2025 11:18:50 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/file-storage/17ec0131-98c6-40d9-97cf-a1fe6f48e323
    method: GET
  response:
    body: '{"correlation_id":"01K6D5HKSKYVP42PWACYRRFFEE","status":404,"title":"The
      resource you requested does not exist.","type":"https://developers.upcloud.com/1.3/errors#ERROR_RESOURCE_NOT_FOUND"}'
    headers:
      Content-Language:
      - en
      Content-Length:
      - "190"
      Content-Type:
      - application/problem+json
      Date:
      - Tue, 30 Sep 2025 11:18:55 GMT
      Strict-Transport-Security:
      - max-age=63072000
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Authorization:
      - Basic [REDACTED]
      Content-Type:
      - application/json
      User-Agent:
      - upcloud-go-api/8.28.0
    url: https://api.upcloud.com/1.3/network/03ab5278-c5aa-4ac7-b2ab-660fa22d8c18
    method: DELETE
  response:
    body: ""
    headers:
      Date:
      - Tue, 30 Sep 2025 11:18:55 GMT
      Server:
      - Apache
      Strict-Transport-Security:
      - max-age=63072000
    status: 204 No Content
    code: 204
    duration: ""
